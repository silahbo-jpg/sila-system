# Convertido de run_tests.sh por convert_shell_to_powershell.ps1\n\n<#\nEste script foi convertido automaticamente de um script shell (.sh) para PowerShell (.ps1).\nAlgumas conversões comuns foram aplicadas, mas é provável que seja necessário ajuste manual.\n\nConversões aplicadas automaticamente:\n- Comentários (# -> #)\n- Variáveis básicas ( -> \)\n\nVerifique e ajuste manualmente:\n- Comandos específicos do Linux (ls, grep, etc.) para equivalentes do PowerShell\n- Redirecionamentos de saída (>, >>, |)\n- Estruturas de controle (if, for, while)\n- Execução de comandos em sequência (;, &&, ||)\n#>\n\n# #!/bin/bash\n\n# Script para executar testes com cobertura e gerar relatórios\n\n# Ativa o ambiente virtual (se estiver usando)\nif [ -d "venv" ]; then\n    source venv/bin/activate\nelif [ -d ".venv" ]; then\n    source .venv/bin/activate\nfi\n\n# Instala dependências de teste\npip install -r requirements-test.txt\n\n# Remove relatórios antigos\nRemove-Item -Path htmlcov/ -Recurse -Force\nrm -f .coverage\n\n# Executa os testes com cobertura\nWrite-Host "Executando testes com cobertura..."\npython -m pytest -v --cov=app --cov-report=term-missing --cov-report=html:htmlcov\n\n# Verifica se os testes passaram\nif [ $? -eq 0 ]; then\nWrite-Host "✅ Testes concluídos com sucesso!"\n    \n    # Abre o relatório de cobertura no navegador (Linux/Unix)\n    if command -v xdg-open > /dev/null; then\n        xdg-open htmlcov/index.html\n    # macOS\n    elif command -v open > /dev/null; then\n        open htmlcov/index.html\n    fi\nelse\nWrite-Host "❌ Alguns testes falharam. Verifique os logs acima."\n    exit 1\nfi\n\n\n# Fim do script convertido\n

